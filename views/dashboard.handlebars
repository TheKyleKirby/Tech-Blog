<h1>Dashboard</h1>

{{#if error}}
  <p>{{error}}</p>
{{/if}}

<h2>Create a New Post</h2>
<form action="/dashboard/create" method="POST" class="create-post-form">
  <div>
    <label for="title">Title:</label>
    <input type="text" id="title" name="title" required />
  </div>
  <div>
    <label for="content">Content:</label>
    <textarea id="content" name="content" required></textarea>
  </div>
  <button type="submit">Create Post</button>
</form>

<h2>Your Posts</h2>
{{#if posts.length}}
  <div class="post-card-container">
    {{#each posts}}
      <div class="post-card">
        <div class="post-card-header">
          <h3>{{dataValues.title}}</h3>
        </div>
        <div class="post-card-body">
          <p>{{dataValues.content}}</p>
        </div>
        <div class="post-card-footer">
          <p>Created at: {{formatDate dataValues.createdAt}}</p>
          <div class="post-card-actions">
            <a href="/dashboard/edit/{{dataValues.id}}">Edit</a>
            <form
              action="/dashboard/delete/{{dataValues.id}}"
              method="POST"
              class="delete-post-form"
            >
              <button type="submit">Delete</button>
            </form>
          </div>
        </div>
      </div>
    {{/each}}
  </div>
{{else}}
  <p>No posts found.</p>
{{/if}}